<!DOCTYPE html>
<html>
	<head>
		<!-- options.js will only run if this title matches -->
		<title>Cypherpass Options</title>
		<link rel="stylesheet" type="text/css" href="/css/options.css"/>
		<link rel="stylesheet" type="text/css" href="/css/options_night.css"/>


	</head>

	<body>
		<div id="header" class="center">
			<img src="/img/cypher_128.png" alt="cypherpass" style="width:128px;height:128px;">
		</div>
		<h1>Cypherpass Options</h1>

		<p>
			<button class="optionsPage">Open options page in a new tab</button>
		</p>


<!-- Options -->
		<div class="tools container">
			<p>Options</p>

<!-- Autologin -->
			<div>
				<p>Autologin</p>
				<p class="disabled">
					<label>
						<input type="checkbox" id="autologin" disabled/>
						Autologin
					</label>
				</p>

			<div class="sub">
				<p>
					<label>
						<input type="checkbox" id="autologinFill" />
						Auto fill login when available.
					</label>
				</p>
				<p>
					<label>
						<input type="checkbox" id="autofill" />
						Auto fill forms with public key
					</label>
				</p>

				<p>
					<label>
						<input type="checkbox" id="autologinSubmit" />
						Auto submit filled login.
					</label>
				</p>
			</div>
			<p class="disabled">
				<label>
					<input type="checkbox" id="autologinWhitelist" disabled/>
					Use autologin whitelist
				</label>
			</p>
		</div>

<!-- Crypto -->
			<div>
				<p>Crypto</p>
				<p >
					<label>
						Signature Algorithm
							<select id="signatureAlgorithm">
							</select>

					</label>
				</p>
			</div>



<!-- Key Ledger -->
			<div>
				<p>Key Ledger</p>
				<p>
					<input type="checkbox" id="enableKeyLedger">
					Enable Key Ledger
				</p>

				<div class="pair">
					<div class="key">
						<label>Key Ledger URL</label>
					</div>
					<div class="value">
						<input type="text" id="keyLedgerUrl" />
					</div>
				</div>

				<div class="pair">
					<div class="key">
						<button id="verifyKeyLedger">
							Verify Key Ledger
						</button>
					</div>
					<div class="value">
						<span id="keyLedgerVerified" title="">
							Ledger not verified
						</span>
					</div>
				</div>

				<p class="disabled">
					<label>
						<input type="checkbox" id="autologinWhitelist" disabled/>
						Use a new keypair every login
					</label>
				</p>

			</div>
		</div>



<!-- Tools -->
		<div class="tools container">
			<p>Tools</p>

			<div>
				<p>Public key</p>
				<div class="pair">
					<div class="key">
						<button id="selectPublicKey">Copy Public Key</button>
					</div>
					<div class="value">
						<span id="publicKey"
							  title="Your public key is what identifies you
							  to third parties"></span>
					</div>
				</div>
			</div>






			<div>
				<p>Sign Message</p>
				<div class="pair">
					<div class="key">
						Message
					</div>
					<div class="value">
						<input type="text" id="messageToSign" />
					</div>
				</div>

<!-- Message Signature block -->
				<div class="pair">
					<div class="key">
						JWS (signed message)
					</div>
					<div class="value">
						<span id="signature" title="The JWS is the signature block.  It has a header with crypto settings details, the message payload, and the cryptographic signature. ">
							&nbsp
						</span>
					</div>
				</div>


<!-- Copy Signature Button -->
				<div class="pair">
					<div class="key">
						<button id="selectSigned">
							Copy JWS
						</button>
					</div>
				</div>
<!-- Self Verify Signature Button -->
				<div class="pair">
					<div class="key">
						<button id="selfVerifyMessage">
							Verify Message
						</button>
					</div>
				</div>


			</div>



			<div>
				<p>Verify Message Signature</p>

				<div class="pair">
					<div class="key">
						JWK (public key)
						<br />

					</div>
					<div class="value">
						<input type="text" id="verifyMessagePublicKey" />
					</div>
				</div>

				<div class="pair">
					<div class="key">
						JWS
					</div>
					<div class="value">
						<input type="text" id="verifyMessageMessage" />
					</div>
				</div>

				<!-- <div class="pair">
					<div class="key">
						Signature
					</div>
					<div class="value">
						<input type="text" id="verifyMessageSignature" />
					</div>
				</div> -->






				<div class="pair">
					<div class="key">
						Status
					</div>
					<div class="value">
						<span id="verifyMessageVerified">&nbsp</span>
					</div>
				</div>


			</div>

		</div>


		<div class="container dangerzone">
			<p>
				DANGER ZONE
			</p>
			<div>
				<p>
					Show private key
				</p>
				<p>
					<button id="showPrivateKey">Show Private Key</button>
				</p>
				<p>
					<span id="privateKey"></span>
				</p>
			</div>
			<div>
				<p>
					New Key Pair
				</p>
				<p>
					<strong>Warning</strong>: This will erase
					the current key pair forever.
				</p>
				<p>
					<label>
						<input type="checkbox" id="newKeyPairCheck">
						That's okay.
					</label>
				</p>
				<p>
					<button id="newKeyPair" disabled>Generate a New Key Pair</button>
				</p>
			</div>

			<div>
				<p>
					Import key pair
				</p>
				<p>
					<strong>Warning</strong>: This will erase
					the current key pair forever.
				</p>
				<p>
					<label for='importPublicInput'> Public Key</label>
					<input type="text" id="importPublicInput" value=""/>
				</p>
				<p>
					<label for='importPrivateInput'>Private Key</label>
					<input type="text" id="importPrivateInput" value=""/>

				</p>


				<p>
					<button id="importKeyPairButton">Import Key Pair</button>
				</p>
			</div>

			<div>
				<p>
					Extension Test Link
				</p>
				<p>
					<strong>Warning</strong>: Backup your settings before clicking this link.
				</p>
				<p>
					<button id="testPage">Test Page</button>
				</p>
			</div>
		</div>

		<p>
			<button class="optionsPage">Open options page in a new tab</button>
		</p>

		<p>
			<span id="status">&nbsp</span>
		</p>

		<script src="/vendor/jsrsasign.js"></script>
		<script src="/vendor/cyphernode.js"></script>
		<script src="/vendor/jquery.min.js"></script>
		<script src="/js/storage.js"></script>
		<script src="/js/content.js"></script>
		<script src="/js/options.js"></script>
		<script src="/js/crypto.js"></script>

	</body>
</html>
